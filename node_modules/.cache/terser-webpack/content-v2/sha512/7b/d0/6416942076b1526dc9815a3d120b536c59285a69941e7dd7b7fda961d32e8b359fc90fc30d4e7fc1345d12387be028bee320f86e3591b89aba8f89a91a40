{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{\"/QoZ\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return MAX_SIZE_SHORT_NAME})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return ViewProfileComponent}));var app_api_models__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"XDzf\"),app_api_services_contacts_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"oWwz\"),app_api_services_users_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"dt5f\"),app_core_error_status__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"a/z7\"),app_ui_core_maps_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"c/3O\"),app_ui_core_operation_helper_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"Ewue\"),app_ui_core_records_helper_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"Jc6/\"),app_ui_core_user_helper_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"tzq7\"),app_shared_action__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(\"tAww\"),app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(\"rCAV\"),app_ui_shared_base_view_page_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(\"Pm8L\"),app_shared_helper__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(\"ObUu\"),app_ui_shared_menu__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(\"QH++\"),rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(\"2Vo4\"),app_ui_core_wizard_helper_service__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(\"u1E5\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(\"8Y7J\"),app_ui_shared_page_layout_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(\"3qho\"),_angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(\"SVse\"),app_ui_shared_page_content_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(\"I0FJ\"),app_ui_shared_profile_addresses_component__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(\"eNTF\"),app_ui_shared_profile_images_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(\"Kiu2\"),app_shared_label_value_component__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(\"JFlR\"),app_ui_shared_user_link_component__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(\"Ls5z\"),app_shared_icon_component__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(\"H4pW\"),app_shared_custom_field_value_component__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(\"nznZ\"),_angular_router__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(\"iInd\"),app_ui_shared_rating_stats_component__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(\"vOpc\"),app_shared_avatar_component__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(\"sifq\"),app_shared_format_field_value_component__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(\"5Wk5\"),app_ui_shared_heading_action_button_component__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(\"BUNh\"),app_shared_date_pipe__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(\"yL40\");function ViewProfileComponent_page_content_2_ng_container_2_div_2_ng_container_3_ng_container_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Mb(0)}const _c0=function(a0){return{$implicit:a0}};function ViewProfileComponent_page_content_2_ng_container_2_div_2_ng_container_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ob(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(1,ViewProfileComponent_page_content_2_ng_container_2_div_2_ng_container_3_ng_container_1_Template,1,0,\"ng-container\",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Nb()),2&rf){const action_r25=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(4);const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_15__.qc(4);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngTemplateOutlet\",_r1)(\"ngTemplateOutletContext\",_angular_core__WEBPACK_IMPORTED_MODULE_15__.jc(2,_c0,action_r25))}}function ViewProfileComponent_page_content_2_ng_container_2_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"div\",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"h2\",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(3,ViewProfileComponent_page_content_2_ng_container_2_div_2_ng_container_3_Template,2,4,\"ng-container\",18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(ctx_r22.i18n.user.profile.banking),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngForOf\",ctx_r22.bankingActions)}}function ViewProfileComponent_page_content_2_ng_container_2_div_3_ng_container_3_ng_container_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Mb(0)}function ViewProfileComponent_page_content_2_ng_container_2_div_3_ng_container_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ob(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(1,ViewProfileComponent_page_content_2_ng_container_2_div_3_ng_container_3_ng_container_1_Template,1,0,\"ng-container\",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Nb()),2&rf){const action_r28=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(4);const _r1=_angular_core__WEBPACK_IMPORTED_MODULE_15__.qc(4);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngTemplateOutlet\",_r1)(\"ngTemplateOutletContext\",_angular_core__WEBPACK_IMPORTED_MODULE_15__.jc(2,_c0,action_r28))}}function ViewProfileComponent_page_content_2_ng_container_2_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"div\",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"h2\",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(3,ViewProfileComponent_page_content_2_ng_container_2_div_3_ng_container_3_Template,2,4,\"ng-container\",18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(ctx_r23.i18n.user.profile.management),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngForOf\",ctx_r23.managementActions)}}function ViewProfileComponent_page_content_2_ng_container_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ob(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"div\",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(2,ViewProfileComponent_page_content_2_ng_container_2_div_2_Template,4,2,\"div\",15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(3,ViewProfileComponent_page_content_2_ng_container_2_div_3_Template,4,2,\"div\",15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(4,\"hr\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Nb()),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r3.bankingActions.length>0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r3.managementActions.length>0)}}function ViewProfileComponent_page_content_2_profile_images_4_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"profile-images\",20),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"image\",ctx_r4.user.image)(\"additionalImages\",ctx_r4.user.additionalImages)}}function ViewProfileComponent_page_content_2_profile_images_7_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"profile-images\",21),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"image\",ctx_r5.user.image)(\"additionalImages\",ctx_r5.user.additionalImages)}}function ViewProfileComponent_page_content_2_label_value_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"label-value\",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(1,\"user-link\",23),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r6.i18n.user.operatorOwner),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"user\",ctx_r6.user.user)}}function ViewProfileComponent_page_content_2_label_value_11_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"label-value\",24),2&rf){const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r7.i18n.user.groupSet)(\"value\",ctx_r7.user.groupSet.name)}}function ViewProfileComponent_page_content_2_label_value_12_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"label-value\",24),2&rf){const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r8.i18n.user.group)(\"value\",ctx_r8.user.group.name)}}function ViewProfileComponent_page_content_2_label_value_13_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"label-value\",24),2&rf){const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r9.i18n.general.status)(\"value\",ctx_r9.userHelper.userStatus(ctx_r9.user.status))}}function ViewProfileComponent_page_content_2_label_value_14_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"label-value\",24),2&rf){const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r10.i18n.user.name)(\"value\",ctx_r10.user.name)}}function ViewProfileComponent_page_content_2_label_value_15_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"label-value\",24),2&rf){const ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r11.i18n.user.username)(\"value\",ctx_r11.user.username)}}function ViewProfileComponent_page_content_2_label_value_16_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"label-value\",24),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ac(1,\"date\")),2&rf){const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r12.i18n.user.registrationDate)(\"value\",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bc(1,2,ctx_r12.user.registrationDate))}}function ViewProfileComponent_page_content_2_label_value_17_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"label-value\",24),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ac(1,\"date\")),2&rf){const ctx_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r13.i18n.user.activationDate)(\"value\",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bc(1,2,ctx_r13.user.activationDate))}}function ViewProfileComponent_page_content_2_label_value_18_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"label-value\",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"a\",25),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(2,\"icon\",26),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(3,\"span\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const ctx_r14=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r14.i18n.user.email),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"href\",\"mailto:\"+ctx_r14.user.email,_angular_core__WEBPACK_IMPORTED_MODULE_15__.uc),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(ctx_r14.user.email)}}function ViewProfileComponent_page_content_2_label_value_19_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"label-value\",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"a\",25),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(2,\"icon\",27),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(3,\"span\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r15.i18n.phone.mobile),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"href\",\"tel:\"+ctx_r15.mobilePhone.normalizedNumber,_angular_core__WEBPACK_IMPORTED_MODULE_15__.uc),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(ctx_r15.mobilePhone.number)}}function ViewProfileComponent_page_content_2_label_value_20_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"label-value\",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"a\",25),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(2,\"icon\",27),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(3,\"span\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const phone_r30=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",phone_r30.name),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"href\",\"tel:\"+phone_r30.normalizedNumber,_angular_core__WEBPACK_IMPORTED_MODULE_15__.uc),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(phone_r30.number)}}function ViewProfileComponent_page_content_2_label_value_21_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"label-value\",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"a\",25),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(2,\"icon\",28),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(3,\"span\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r17.i18n.phone.landLine),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"href\",\"tel:\"+ctx_r17.landLinePhone.normalizedNumber,_angular_core__WEBPACK_IMPORTED_MODULE_15__.uc),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(ctx_r17.landLinePhone.number)}}function ViewProfileComponent_page_content_2_label_value_22_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"label-value\",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"a\",25),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(2,\"icon\",28),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(3,\"span\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const phone_r31=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",phone_r31.name),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"href\",\"tel:\"+phone_r31.normalizedNumber,_angular_core__WEBPACK_IMPORTED_MODULE_15__.uc),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(phone_r31.number)}}function ViewProfileComponent_page_content_2_custom_field_value_23_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"custom-field-value\",29),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"fieldValue\",ctx.$implicit)}function ViewProfileComponent_page_content_2_label_value_24_rating_stats_2_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(0,\"rating-stats\",32),2&rf){const ctx_r33=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"score\",ctx_r33.data.references.score)(\"textRight\",ctx_r33.data.references.count>1?ctx_r33.i18n.reference.count.multi(ctx_r33.data.references.count):ctx_r33.i18n.reference.count.single)}}function ViewProfileComponent_page_content_2_label_value_24_ng_container_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ob(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Nb()),2&rf){const ctx_r34=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Fc(\" \",ctx_r34.i18n.reference.notGiven,\"\")}}function ViewProfileComponent_page_content_2_label_value_24_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"label-value\",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"a\",30),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(2,ViewProfileComponent_page_content_2_label_value_24_rating_stats_2_Template,1,2,\"rating-stats\",31),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(3,ViewProfileComponent_page_content_2_label_value_24_ng_container_3_Template,2,1,\"ng-container\",4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"label\",ctx_r20.i18n.user.profile.references),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"routerLink\",ctx_r20.referencesPath()),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r20.data.references.count>0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",0===ctx_r20.data.references.count)}}function ViewProfileComponent_page_content_2_ng_container_27_div_4_a_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"a\",39),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const contactInfo_r36=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"href\",\"mailto:\"+contactInfo_r36.email,_angular_core__WEBPACK_IMPORTED_MODULE_15__.uc),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Fc(\" \",contactInfo_r36.email,\" \")}}function ViewProfileComponent_page_content_2_ng_container_27_div_4_div_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"div\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(1,\"format-field-value\",29),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const value_r42=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"fieldValue\",value_r42)}}function ViewProfileComponent_page_content_2_ng_container_27_div_4_div_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"div\",41),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"span\",42),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const contactInfo_r36=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb().$implicit,ctx_r40=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(ctx_r40.i18n.user.contactInfoAtAddress),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Fc(\" \",contactInfo_r36.address.name,\" \")}}function ViewProfileComponent_page_content_2_ng_container_27_div_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"div\",35),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(1,\"avatar\",36),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(2,\"div\",37),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(4,ViewProfileComponent_page_content_2_ng_container_27_div_4_a_4_Template,2,2,\"a\",38),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(5,\"a\",39),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(6),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(7,\"a\",39),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(9,ViewProfileComponent_page_content_2_ng_container_27_div_4_div_9_Template,2,1,\"div\",18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(10,ViewProfileComponent_page_content_2_ng_container_27_div_4_div_10_Template,4,2,\"div\",40),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const contactInfo_r36=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"image\",contactInfo_r36.image),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(contactInfo_r36.name),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",contactInfo_r36.email),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"href\",\"tel:\"+contactInfo_r36.normalizedMobilePhone,_angular_core__WEBPACK_IMPORTED_MODULE_15__.uc),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Fc(\" \",contactInfo_r36.mobilePhone,\" \"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"href\",\"tel:\"+contactInfo_r36.normalizedLandLinePhone,_angular_core__WEBPACK_IMPORTED_MODULE_15__.uc),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Fc(\" \",contactInfo_r36.landLinePhone,\" \"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngForOf\",contactInfo_r36.customValues),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",contactInfo_r36.address)}}function ViewProfileComponent_page_content_2_ng_container_27_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ob(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(1,\"h2\",33),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Dc(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(3,\"div\",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(4,ViewProfileComponent_page_content_2_ng_container_27_div_4_Template,11,9,\"div\",34),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Nb()),2&rf){const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Ec(ctx_r21.i18n.user.contactInfo),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngForOf\",ctx_r21.user.contactInfos)}}function ViewProfileComponent_page_content_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"page-content\",3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ac(1,\"async\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(2,ViewProfileComponent_page_content_2_ng_container_2_Template,5,2,\"ng-container\",4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ac(3,\"async\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(4,ViewProfileComponent_page_content_2_profile_images_4_Template,1,2,\"profile-images\",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ac(5,\"async\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(6,\"div\",6),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(7,ViewProfileComponent_page_content_2_profile_images_7_Template,1,2,\"profile-images\",7),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ac(8,\"async\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(9,\"div\",8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(10,ViewProfileComponent_page_content_2_label_value_10_Template,2,2,\"label-value\",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(11,ViewProfileComponent_page_content_2_label_value_11_Template,1,2,\"label-value\",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(12,ViewProfileComponent_page_content_2_label_value_12_Template,1,2,\"label-value\",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(13,ViewProfileComponent_page_content_2_label_value_13_Template,1,2,\"label-value\",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(14,ViewProfileComponent_page_content_2_label_value_14_Template,1,2,\"label-value\",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(15,ViewProfileComponent_page_content_2_label_value_15_Template,1,2,\"label-value\",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(16,ViewProfileComponent_page_content_2_label_value_16_Template,2,4,\"label-value\",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(17,ViewProfileComponent_page_content_2_label_value_17_Template,2,4,\"label-value\",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(18,ViewProfileComponent_page_content_2_label_value_18_Template,5,3,\"label-value\",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(19,ViewProfileComponent_page_content_2_label_value_19_Template,5,3,\"label-value\",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(20,ViewProfileComponent_page_content_2_label_value_20_Template,5,3,\"label-value\",11),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(21,ViewProfileComponent_page_content_2_label_value_21_Template,5,3,\"label-value\",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(22,ViewProfileComponent_page_content_2_label_value_22_Template,5,3,\"label-value\",11),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(23,ViewProfileComponent_page_content_2_custom_field_value_23_Template,1,1,\"custom-field-value\",12),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(24,ViewProfileComponent_page_content_2_label_value_24_Template,4,4,\"label-value\",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(25,\"div\",8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(26,\"profile-addresses\",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(27,ViewProfileComponent_page_content_2_ng_container_27_Template,5,2,\"ng-container\",4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Zb();_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"heading\",ctx_r0.title)(\"mobileHeading\",ctx_r0.mobileTitle)(\"headingActions\",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bc(1,23,ctx_r0.headingActions$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bc(3,25,ctx_r0.showActions$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.imageEnabled&&ctx_r0.user.image&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.bc(5,27,ctx_r0.layout.ltsm$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.imageEnabled&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.bc(8,29,ctx_r0.layout.gtxs$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.showOperatorOwner),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.user.groupSet),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.user.group),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.user.status),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.user.name),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.user.username),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.user.registrationDate),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.showActivationDate),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.user.email),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.mobilePhone),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngForOf\",ctx_r0.mobilePhones),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.landLinePhone),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngForOf\",ctx_r0.landLinePhones),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngForOf\",ctx_r0.user.customValues),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx_r0.data.references),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"addresses\",ctx_r0.user.addresses),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",(null==ctx_r0.user.contactInfos?null:ctx_r0.user.contactInfos.length)>0)}}function ViewProfileComponent_ng_template_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"div\",43),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Lb(1,\"heading-action-button\",44),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb()),2&rf){const action_r44=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"action\",action_r44)}}const MAX_SIZE_SHORT_NAME=25;let ViewProfileComponent=(()=>{class ViewProfileComponent extends app_ui_shared_base_view_page_component__WEBPACK_IMPORTED_MODULE_10__.a{constructor(injector,usersService,contactsService,operationHelper,wizardHelper,recordHelper,maps,userHelper){super(injector),this.usersService=usersService,this.contactsService=contactsService,this.operationHelper=operationHelper,this.wizardHelper=wizardHelper,this.recordHelper=recordHelper,this.maps=maps,this.userHelper=userHelper,this.showActions$=new rxjs__WEBPACK_IMPORTED_MODULE_13__.a(!1),this.bankingActions=[],this.managementActions=[]}get user(){return this.data}ngOnInit(){super.ngOnInit(),this.stateManager.manageValue(this.showActions$,\"showActions\"),this.param=this.route.snapshot.params.user||app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.SELF,this.errorHandler.requestWithCustomErrorHandler(defaultHandling=>{this.addSub(this.usersService.viewUser({user:this.param}).subscribe(user=>{this.data=user},resp=>{[app_core_error_status__WEBPACK_IMPORTED_MODULE_3__.a.FORBIDDEN,app_core_error_status__WEBPACK_IMPORTED_MODULE_3__.a.UNAUTHORIZED].includes(resp.status)?(this.notification.error(this.i18n.user.profile.noPermission),this.breadcrumb.back(),this.data={}):defaultHandling(resp)}))})}onDataInitialized(user){var _a,_b;this.shortName=Object(app_shared_helper__WEBPACK_IMPORTED_MODULE_11__.G)(user.name||user.display,MAX_SIZE_SHORT_NAME);const enabledFields=user.enabledProfileFields;this.imageEnabled=null==enabledFields||enabledFields.includes(app_api_models__WEBPACK_IMPORTED_MODULE_0__.j.IMAGE),this.mobilePhones=user.phones.filter(p=>p.type===app_api_models__WEBPACK_IMPORTED_MODULE_0__.Z.MOBILE),this.landLinePhones=user.phones.filter(p=>p.type===app_api_models__WEBPACK_IMPORTED_MODULE_0__.Z.LAND_LINE),1===this.mobilePhones.length&&(this.mobilePhone=this.mobilePhones[0],this.mobilePhones=[]),1===this.landLinePhones.length&&(this.landLinePhone=this.landLinePhones[0],this.landLinePhones=[]);const operator=user.role===app_api_models__WEBPACK_IMPORTED_MODULE_0__.kb.OPERATOR,permissions=user.permissions||{},profile=permissions.profile||{},passwords=permissions.passwords||{},identityProviders=permissions.identityProviders||{},accountTypes=(permissions.accounts||[]).map(a=>a.type),contact=permissions.contact||{},payment=permissions.payment||{},paymentRequests=permissions.paymentRequests||{},scheduledPayments=permissions.scheduledPayments||{},authorizedPayments=permissions.authorizedPayments||{},marketplace=permissions.marketplace||{},simpleAds=marketplace.simple||{},webshop=marketplace.webshop||{},notificationSettings=permissions.notificationSettings||{},status=permissions.status||{},group=permissions.group||{},agreements=permissions.agreements||{},operators=permissions.operators||{},brokering=permissions.brokering||{},vouchers=permissions.vouchers||{},documents=permissions.documents||{},tokens=permissions.tokens||[],products=permissions.products||{};if(user.relationship===app_api_models__WEBPACK_IMPORTED_MODULE_0__.Mb.SELF){if(profile.editProfile){const edit=new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"edit\",this.i18n.general.edit,()=>{this.router.navigateByUrl(this.router.url+\"/edit\")},!0);this.headingActions=[edit]}}else{for(const accountType of accountTypes)this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"account_balance\",this.i18n.user.profile.viewAccount(accountType.name),()=>{this.router.navigate([\"/banking\",this.param,\"account\",app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.internalNameOrId(accountType)])}));payment.systemToUser&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.paySystemToUser,()=>{this.router.navigate([\"/banking\",app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.SYSTEM,\"payment\",this.param])})),payment.asUserToUser&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.payAsUserToUser,()=>{this.router.navigate([\"/banking\",this.param,\"payment\"])})),payment.asUserToSelf&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.payAsUserToSelf,()=>{this.router.navigate([\"/banking\",this.param,\"payment\",app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.SELF])})),payment.asUserToSystem&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.payAsUserToSystem,()=>{this.router.navigate([\"/banking\",this.param,\"payment\",app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.SYSTEM])})),paymentRequests.sendFromSystem&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.requestPaymentFromSystem,()=>{this.router.navigate([\"/banking\",app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.SYSTEM,\"payment-request\",this.param])})),paymentRequests.sendFromUser&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.requestPaymentFromUser,()=>{this.router.navigate([\"/banking\",app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.SELF,\"payment-request\",this.param])})),paymentRequests.sendAsUserToUser&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.requestPaymentAsUserFromUser,()=>{this.router.navigate([\"/banking\",this.param,\"payment-request\"])})),paymentRequests.sendAsUserToSystem&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.requestPaymentAsUserFromSystem,()=>{this.router.navigate([\"/banking\",this.param,\"payment-request\",app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.SYSTEM])})),paymentRequests.view&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.viewPaymentRequests,()=>{this.router.navigate([\"/banking\",this.param,\"payment-requests\"])})),scheduledPayments.view&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"schedule\",this.i18n.user.profile.viewScheduledPayments,()=>{this.router.navigate([\"/banking\",this.param,\"installments\"])})),(permissions.balanceLimits||{}).view&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"swap_vert\",this.i18n.user.profile.accountsBalanceLimits,()=>{this.router.navigate([\"/banking\",this.param,\"account-balance-limits\"])})),(permissions.paymentLimits||{}).view&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"swap_vert\",this.i18n.user.profile.accountsPaymentLimits,()=>{this.router.navigate([\"/banking\",this.param,\"account-payment-limits\"])})),authorizedPayments.view&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"assignment_turned_in\",this.i18n.user.profile.viewAuthorizedPayments,()=>{this.router.navigate([\"/banking\",this.param,\"authorized-payments\"])})),vouchers.viewBought&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"local_play\",this.i18n.user.profile.viewBoughtVouchers,()=>{this.router.navigate([\"/banking\",this.param,\"vouchers\",\"bought\"])})),vouchers.buy&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"confirmation_number\",this.i18n.user.profile.buyVouchers,()=>{this.router.navigate([\"/banking\",this.param,\"vouchers\",\"buy\"])})),vouchers.viewRedeemed&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"search\",this.i18n.user.profile.viewRedeemedVouchers,()=>{this.router.navigate([\"/banking\",this.param,\"vouchers\",\"redeemed\"])})),vouchers.redeem&&this.bankingActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.redeemVoucher,()=>{this.router.navigate([\"/banking\",this.param,\"vouchers\",\"redeem\"])})),profile.editProfile&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"edit\",this.i18n.user.profile.edit,()=>{this.router.navigateByUrl(this.router.url+\"/edit\")})),passwords.manage&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"vpn_key\",this.i18n.user.profile.managePasswords,()=>{this.router.navigate([\"/users\",this.param,\"passwords\"])})),identityProviders.view&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"perm_identity\",this.i18n.user.profile.viewIdentityProviders,()=>{this.router.navigate([\"/users\",this.param,\"identity-providers\"])})),status.view&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"how_to_reg\",operator?this.i18n.user.profile.statusOperator:this.i18n.user.profile.statusUser,()=>{this.router.navigate([\"/users\",this.param,\"status\"])})),group.view&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"supervised_user_circle\",operator?this.i18n.user.profile.groupOperator:this.i18n.user.profile.groupUser,()=>{this.router.navigate([\"/users\",this.param,\"group\"])})),agreements.view&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"ballot\",this.i18n.user.profile.agreements,()=>{this.router.navigate([\"/users\",this.param,\"agreements\"])})),brokering.viewMembers&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"assignment_ind\",this.i18n.user.profile.viewBrokerings,()=>{this.router.navigate([\"/users\",this.param,\"brokerings\"])})),brokering.viewBrokers&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"assignment_ind\",this.i18n.user.profile.viewBrokers,()=>{this.router.navigate([\"/users\",this.param,\"brokers\"])})),operators.viewOperators&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"supervisor_account\",this.i18n.user.profile.viewOperators,()=>{this.router.navigate([\"/users\",this.param,\"operators\"])})),products.view&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"admin_panel_settings\",this.i18n.user.profile.products,()=>{this.router.navigate([\"/users\",this.param,\"product-assignment\"])})),contact.add&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"add_circle_outline\",this.i18n.user.profile.addContact,()=>{this.addContact()})),contact.remove&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"remove_circle_outline\",this.i18n.user.profile.removeContact,()=>{this.removeContact()})),payment.userToUser&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"payment\",this.i18n.user.profile.pay,()=>{this.router.navigate([\"/banking\",app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.SELF,\"payment\",this.param])})),simpleAds.view&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"shopping_basket\",this.i18n.user.profile.viewAds,()=>{this.router.navigate([\"/marketplace\",this.param,app_api_models__WEBPACK_IMPORTED_MODULE_0__.c.SIMPLE,\"list\"])})),webshop.view&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"shopping_basket\",this.i18n.user.profile.viewWebshop,()=>{this.router.navigate([\"/marketplace\",this.param,app_api_models__WEBPACK_IMPORTED_MODULE_0__.c.WEBSHOP,\"list\"])})),webshop.viewPurchases&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"shop_two\",this.i18n.user.profile.purchases,()=>{this.router.navigate([\"/marketplace\",this.param,\"purchases\"])})),webshop.viewSales&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"local_offer\",this.i18n.user.profile.sales,()=>{this.router.navigate([\"/marketplace\",this.param,\"sales\"])})),marketplace.viewInterests&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"star\",this.i18n.user.profile.adInterests,()=>{this.router.navigate([\"/marketplace\",this.param,\"ad-interests\"])})),webshop.viewSettings&&(this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"local_shipping\",this.i18n.user.profile.deliveryMethods,()=>{this.router.navigate([\"/marketplace\",this.param,\"delivery-methods\"])})),this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"store\",this.i18n.user.profile.webshopSettings,()=>{this.router.navigate([\"/marketplace\",this.param,\"webshop-settings\",\"view\"])})));for(const token of tokens)this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"vpn_key\",token.type.pluralName,()=>{this.router.navigate([\"/users\",this.param,\"tokens\",token.type.id])}));notificationSettings.view&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"notifications_off\",this.i18n.user.profile.notificationSettings,()=>{this.router.navigate([\"/users\",this.param,\"notification-settings\"])})),(null===(_a=permissions.privacySettings)||void 0===_a?void 0:_a.view)&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"settings\",this.i18n.user.profile.privacySettings,()=>{this.router.navigate([\"/users\",this.param,\"privacy-settings\"])})),(null===(_b=permissions.references)||void 0===_b?void 0:_b.view)&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"stars\",this.i18n.user.profile.references,()=>{this.router.navigate([\"/users\",this.param,\"references\",\"search\"])})),documents.view&&this.managementActions.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(\"library_books\",this.i18n.document.title.list,()=>{this.router.navigate([\"/users\",this.param,\"documents\",\"search\"])}));for(const record of permissions.records||[]){const type=record.type,addTo=type.userProfileSection===app_api_models__WEBPACK_IMPORTED_MODULE_0__.Kb.BANKING?this.bankingActions:this.managementActions,icon=this.recordHelper.icon(type);addTo.push(new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(icon,this.i18n.record.action({type:type.pluralName,count:record.count}),()=>{this.router.navigateByUrl(this.recordHelper.resolvePath(record,this.param))}))}for(const operation of permissions.operations||[])(operation.userProfileSection===app_api_models__WEBPACK_IMPORTED_MODULE_0__.Kb.BANKING?this.bankingActions:this.managementActions).push(this.operationHelper.headingAction(operation,user.id));for(const wizard of permissions.wizards||[])(wizard.userProfileSection===app_api_models__WEBPACK_IMPORTED_MODULE_0__.Kb.BANKING?this.bankingActions:this.managementActions).push(this.wizardHelper.headingAction(wizard,user.id));let actionsCount=Object(app_shared_helper__WEBPACK_IMPORTED_MODULE_11__.h)(this.bankingActions)?0:this.bankingActions.length;actionsCount+=Object(app_shared_helper__WEBPACK_IMPORTED_MODULE_11__.h)(this.managementActions)?0:this.managementActions.length,actionsCount>0&&(actionsCount<6?this.headingActions=(this.bankingActions||[]).concat(this.managementActions||[]):this.updateHeadingActions())}}referencesPath(){return[\"/users\",this.param,\"references\",\"search\"]}updateHeadingActions(){const show=!this.showActions$.value,headingAction=new app_shared_action__WEBPACK_IMPORTED_MODULE_8__.c(show?\"play_circle_outline\":\"clear\",show?this.i18n.user.profile.showActions:this.i18n.user.profile.hideActions,()=>{this.showActions$.next(show),this.updateHeadingActions()},!0);this.headingActions=[headingAction]}addContact(){this.addSub(this.contactsService.createContact({user:app_shared_api_helper__WEBPACK_IMPORTED_MODULE_9__.a.SELF,body:{contact:this.user.id}}).subscribe(()=>{this.notification.snackBar(this.i18n.user.profile.addContactDone(this.shortName)),this.reload()}))}removeContact(){this.addSub(this.contactsService.deleteContact({id:this.user.contact.id}).subscribe(()=>{this.notification.snackBar(this.i18n.user.profile.removeContactDone(this.shortName)),this.reload()}))}get myProfile(){return!!this.user&&(this.login.user||{}).id===this.user.id}get title(){return this.myProfile?this.i18n.user.title.myProfile:this.shortName}get mobileTitle(){return this.myProfile?this.i18n.user.mobileTitle.myProfile:this.i18n.user.mobileTitle.userProfile}get showActivationDate(){return this.user.activationDate&&this.format.formatAsDate(this.user.activationDate)!==this.format.formatAsDate(this.user.registrationDate)}get showOperatorOwner(){return this.user.role===app_api_models__WEBPACK_IMPORTED_MODULE_0__.kb.OPERATOR&&![app_api_models__WEBPACK_IMPORTED_MODULE_0__.Mb.OWNER,app_api_models__WEBPACK_IMPORTED_MODULE_0__.Mb.SAME_OWNER].includes(this.user.relationship)}resolveMenu(user){switch(user.relationship){case app_api_models__WEBPACK_IMPORTED_MODULE_0__.Mb.OWNER:case app_api_models__WEBPACK_IMPORTED_MODULE_0__.Mb.SAME_OWNER:return app_ui_shared_menu__WEBPACK_IMPORTED_MODULE_12__.b.MY_OPERATORS;case app_api_models__WEBPACK_IMPORTED_MODULE_0__.Mb.BROKER:return app_ui_shared_menu__WEBPACK_IMPORTED_MODULE_12__.b.MY_BROKERED_USERS;default:return this.login.user?app_ui_shared_menu__WEBPACK_IMPORTED_MODULE_12__.b.SEARCH_USERS:app_ui_shared_menu__WEBPACK_IMPORTED_MODULE_12__.b.PUBLIC_DIRECTORY}}}return ViewProfileComponent.ɵfac=function(t){return new(t||ViewProfileComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Kb(_angular_core__WEBPACK_IMPORTED_MODULE_15__.r),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Kb(app_api_services_users_service__WEBPACK_IMPORTED_MODULE_2__.a),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Kb(app_api_services_contacts_service__WEBPACK_IMPORTED_MODULE_1__.a),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Kb(app_ui_core_operation_helper_service__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Kb(app_ui_core_wizard_helper_service__WEBPACK_IMPORTED_MODULE_14__.a),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Kb(app_ui_core_records_helper_service__WEBPACK_IMPORTED_MODULE_6__.a),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Kb(app_ui_core_maps_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Kb(app_ui_core_user_helper_service__WEBPACK_IMPORTED_MODULE_7__.a))},ViewProfileComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Eb({type:ViewProfileComponent,selectors:[[\"view-profile\"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_15__.ub],decls:5,vars:4,consts:[[3,\"ready\"],[\"last\",\"\",\"mode\",\"viewForm\",3,\"heading\",\"mobileHeading\",\"headingActions\",4,\"ngIf\"],[\"actionTpl\",\"\"],[\"last\",\"\",\"mode\",\"viewForm\",3,\"heading\",\"mobileHeading\",\"headingActions\"],[4,\"ngIf\"],[3,\"image\",\"additionalImages\",4,\"ngIf\"],[1,\"d-flex\",\"flex-row-reverse\"],[\"icon\",\"user\",3,\"image\",\"additionalImages\",4,\"ngIf\"],[1,\"d-flex\",\"flex-grow-1\",\"flex-column\"],[3,\"label\",4,\"ngIf\"],[3,\"label\",\"value\",4,\"ngIf\"],[3,\"label\",4,\"ngFor\",\"ngForOf\"],[3,\"fieldValue\",4,\"ngFor\",\"ngForOf\"],[3,\"addresses\"],[1,\"row\",\"no-gutters\"],[\"class\",\"col-12 col-sm-6\",4,\"ngIf\"],[1,\"col-12\",\"col-sm-6\"],[1,\"border-0\"],[4,\"ngFor\",\"ngForOf\"],[4,\"ngTemplateOutlet\",\"ngTemplateOutletContext\"],[3,\"image\",\"additionalImages\"],[\"icon\",\"user\",3,\"image\",\"additionalImages\"],[3,\"label\"],[3,\"user\"],[3,\"label\",\"value\"],[1,\"link-with-icon\",3,\"href\"],[\"icon\",\"email\"],[\"icon\",\"smartphone\"],[\"icon\",\"phone\"],[3,\"fieldValue\"],[3,\"routerLink\"],[3,\"score\",\"textRight\",4,\"ngIf\"],[3,\"score\",\"textRight\"],[1,\"mt-3\"],[\"class\",\"text-center col-12 col-sm-6 col-md-4 col-lg-3 pb-3\",4,\"ngFor\",\"ngForOf\"],[1,\"text-center\",\"col-12\",\"col-sm-6\",\"col-md-4\",\"col-lg-3\",\"pb-3\"],[\"size\",\"140\",\"useLightbox\",\"\",1,\"mb-2\",3,\"image\"],[1,\"font-weight-bold\"],[\"class\",\"d-block\",3,\"href\",4,\"ngIf\"],[1,\"d-block\",3,\"href\"],[\"class\",\"text-accent\",4,\"ngIf\"],[1,\"text-accent\"],[1,\"inline-label\"],[1,\"profile-action\"],[1,\"heading-action-button\",3,\"action\"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Qb(0,\"page-layout\",0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ac(1,\"async\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(2,ViewProfileComponent_page_content_2_Template,28,31,\"page-content\",1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Pb(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Bc(3,ViewProfileComponent_ng_template_3_Template,2,1,\"ng-template\",null,2,_angular_core__WEBPACK_IMPORTED_MODULE_15__.Cc)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ready\",_angular_core__WEBPACK_IMPORTED_MODULE_15__.bc(1,2,ctx.data$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xb(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.gc(\"ngIf\",ctx.data))},directives:[app_ui_shared_page_layout_component__WEBPACK_IMPORTED_MODULE_16__.a,_angular_common__WEBPACK_IMPORTED_MODULE_17__.t,app_ui_shared_page_content_component__WEBPACK_IMPORTED_MODULE_18__.a,_angular_common__WEBPACK_IMPORTED_MODULE_17__.s,app_ui_shared_profile_addresses_component__WEBPACK_IMPORTED_MODULE_19__.a,_angular_common__WEBPACK_IMPORTED_MODULE_17__.A,app_ui_shared_profile_images_component__WEBPACK_IMPORTED_MODULE_20__.a,app_shared_label_value_component__WEBPACK_IMPORTED_MODULE_21__.a,app_ui_shared_user_link_component__WEBPACK_IMPORTED_MODULE_22__.a,app_shared_icon_component__WEBPACK_IMPORTED_MODULE_23__.a,app_shared_custom_field_value_component__WEBPACK_IMPORTED_MODULE_24__.a,_angular_router__WEBPACK_IMPORTED_MODULE_25__.h,app_ui_shared_rating_stats_component__WEBPACK_IMPORTED_MODULE_26__.a,app_shared_avatar_component__WEBPACK_IMPORTED_MODULE_27__.a,app_shared_format_field_value_component__WEBPACK_IMPORTED_MODULE_28__.a,app_ui_shared_heading_action_button_component__WEBPACK_IMPORTED_MODULE_29__.a],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_17__.b,app_shared_date_pipe__WEBPACK_IMPORTED_MODULE_30__.a],encapsulation:2,changeDetection:0}),ViewProfileComponent})()},v4xg:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return BaseSearchPageComponent}));var _angular_forms__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"s7LF\"),app_core_next_request_state__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"mwYl\"),app_shared_action__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"tAww\"),app_shared_api_helper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"rCAV\"),app_ui_shared_base_page_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"uuU0\"),app_shared_paged_results__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"Ky6R\"),app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"TFmz\"),lodash_es__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"Muja\"),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(\"2Vo4\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(\"Kj3r\"),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(\"8Y7J\");let BaseSearchPageComponent=(()=>{class BaseSearchPageComponent extends app_ui_shared_base_page_component__WEBPACK_IMPORTED_MODULE_4__.a{constructor(injector){super(injector),this.ResultType=app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a,this.resultType$=new rxjs__WEBPACK_IMPORTED_MODULE_8__.a(null),this.resultTypeControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.j(null),this.results$=new rxjs__WEBPACK_IMPORTED_MODULE_8__.a(null),this.allowedResultTypes$=new rxjs__WEBPACK_IMPORTED_MODULE_8__.a([app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.LIST]),this.rendering$=new rxjs__WEBPACK_IMPORTED_MODULE_8__.a(!1),this.moreFilters$=new rxjs__WEBPACK_IMPORTED_MODULE_8__.a(!1),this.ignoreNextUpdate=!1,this.nextRequestState=injector.get(app_core_next_request_state__WEBPACK_IMPORTED_MODULE_1__.a);const controls={page:0};controls.resultType=this.getInitialResultType();for(const name of this.getFormControlNames()||[])controls[name]=null;this.form=this.formBuilder.group(controls)}getInitialFormValue(data){return data.query||{}}onDataInitialized(data){this.form.patchValue(this.getInitialFormValue(data)),this.stateManager.manage(this.form),this.stateManager.manage(this.resultTypeControl,\"resultType\"),this.stateManager.manageValue(this.moreFilters$,\"moreFilters\"),this.previousValue=this.form.value,this.previousResultType=this.resultType,this.resultType$.next(this.previousResultType),this.addSub(this.resultTypeControl.valueChanges.subscribe(rt=>{const previous=this.previousResultType;this.previousResultType=rt,this.resultType$.next(rt),this.shouldUpdateOnResultTypeChange(rt,previous)&&this.update(),null!=previous&&previous===rt||(this.rendering=!0,this.stateManager.set(\"resultType\",rt),this.onResultTypeChanged(rt,previous))})),setTimeout(()=>{this.addSub(this.form.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(app_shared_api_helper__WEBPACK_IMPORTED_MODULE_3__.a.DEBOUNCE_TIME)).subscribe(value=>{this.shouldUpdateOnChange(value)&&this.update(),this.previousValue=value}),!0),this.previousResultType!==app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.CATEGORIES&&this.update()},1)}shouldUpdateOnResultTypeChange(resultType,previous){return resultType!==app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.CATEGORIES&&([app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.LIST,app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.TILES].includes(previous)!==[app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.LIST,app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.TILES].includes(resultType)||previous===app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.MAP!=(resultType===app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.MAP))}shouldUpdateOnChange(value){return!Object(lodash_es__WEBPACK_IMPORTED_MODULE_7__.a)(this.previousValue,value)}get results(){return this.results$.value}set results(results){this.results$.next(results)}get rendering(){return this.rendering$.value}set rendering(rendering){this.rendering$.next(rendering)}get allowedResultTypes(){return this.allowedResultTypes$.value}set allowedResultTypes(resultTypes){this.allowedResultTypes$.next(resultTypes)}get moreFilters(){return this.moreFilters$.value}set moreFilters(moreFilters){this.moreFilters$.next(moreFilters)}get pageData(){const val=this.form.value;return{page:val.page,pageSize:val.pageSize}}set pageData(pageData){this.form.patchValue(pageData)}get resultType(){return this.resultTypeControl.value}set resultType(resultType){null==resultType&&(resultType=this.getInitialResultType()),this.resultTypeControl.setValue(resultType)}ngOnInit(){super.ngOnInit(),this.resultType=this.getInitialResultType()}get moreFiltersAction(){return this._moreFiltersAction||(this._moreFiltersAction=new app_shared_action__WEBPACK_IMPORTED_MODULE_2__.c(this.showMoreFiltersIcon(),this.showMoreFiltersLabel(),()=>{this.moreFilters=!this.moreFilters,this._moreFiltersAction.icon=this.moreFilters?this.showLessFiltersIcon():this.showMoreFiltersIcon(),this._moreFiltersAction.label=this.moreFilters?this.showLessFiltersLabel():this.showMoreFiltersLabel()},!0),this._moreFiltersAction.breakpoint=\"gt-xxs\",this._moreFiltersAction.maybeRoot=!0),this._moreFiltersAction}showMoreFiltersLabel(){return this.i18n.general.showMoreFilters}showLessFiltersLabel(){return this.i18n.general.showLessFilters}showMoreFiltersIcon(){return\"filter_list\"}showLessFiltersIcon(){return\"filter_list\"}onResultTypeChanged(_resultType,_previous){}getInitialResultType(){return app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.LIST}update(pageData){if(this.ignoreNextUpdate)return;pageData&&(this.form.patchValue(pageData,{emitEvent:!1}),this.stateManager.set(\"form\",this.form.value)),this.rendering=!0,this.results=null,this.nextRequestState.leaveNotification=!0;const value=this.form.value;value.pageSize=this.uiLayout.searchPageSize,this.addSub(this.doSearch(this.toSearchParams(value)).subscribe(response=>{this.resultType===app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.CATEGORIES&&(this.resultType=this.allowedResultTypes.find(rt=>rt!==app_ui_shared_result_type__WEBPACK_IMPORTED_MODULE_6__.a.CATEGORIES)),this.results=app_shared_paged_results__WEBPACK_IMPORTED_MODULE_5__.a.from(response)}))}resetPage(emitEvent=!1){this.form.patchValue({page:0},{emitEvent:emitEvent})}doIgnoringUpdate(fn){this.ignoreNextUpdate=!0;try{fn()}finally{this.ignoreNextUpdate=!1}}}return BaseSearchPageComponent.ɵfac=function(t){return new(t||BaseSearchPageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Kb(_angular_core__WEBPACK_IMPORTED_MODULE_10__.r))},BaseSearchPageComponent.ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Fb({type:BaseSearchPageComponent,features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.ub]}),BaseSearchPageComponent})()}}]);","extractedComments":[]}